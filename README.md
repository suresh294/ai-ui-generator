# AI Agent ‚Üí Deterministic UI Generator

A robust AI-powered UI generation system that enforces architectural constraints and design consistency through a multi-agent pipeline and strict validation.

## üèóÔ∏è Architecture Overview

The system uses a sequential multi-agent approach to transform natural language prompts into working React code:

- **Planner**: The "brain" of the operation. It analyzes the user request and generates a structural JSON plan. It supports **Modification Mode**, allowing it to suggest incremental changes to existing code.
- **Generator**: Converts the architectural plan into raw React functional components. It is restricted to using a predefined whitelist of components.
- **Designer**: Acts as the layout orchestrator. It wraps the raw component code into a deterministic application shell (including Sidebars, Navbars, and layout containers) to ensure every generation feels like a real app.
- **Explainer**: Provides human-readable context on the design decisions made, explaining component selection and layout choices.

## üõ°Ô∏è Deterministic Enforcement

To prevent AI "hallucinations" and maintain design system integrity, the system enforces several hard constraints:

- **Fixed Component Library**: The AI is strictly limited to a whitelisted set of validated system components (e.g., `Button`, `Card`, `Table`, `Modal`).
- **No Inline Styles**: The system blocks the use of the `style` prop or arbitrary CSS-in-JS. All styling must come from the system's CSS design tokens.
- **No Custom Components**: The AI cannot define its own sub-components or import external libraries, preventing security risks and dependency bloat.
- **Whitelist Validation**: Every piece of code generated by the AI is passed through a regex-based validator on the backend. If it detects unauthorized components, imports, or styles, the generation is rejected.

## üîÑ Iteration Logic

The generator is designed to be collaborative and iterative:

- **State Awareness**: The `previousCode` from the editor is passed back to the Generator and Planner.
- **Modification over Rewrite**: The agents are prompted to "Update" rather than "Reset", allowing users to build complex UIs step-by-step.
- **Version History**: The frontend uses a robust Reducer-based state management system that stores every iteration in local storage, enabling full **Undo/Redo** functionality.

## üöÄ How to Run

### 1. Prerequisites
- Node.js installed.
- An OpenAI API Key (or compatible LLM provider) configured in `backend/.env`.

### 2. Backend Setup
```bash
cd backend
npm install
node server.js
```
The backend runs on `http://localhost:5000`.

### 3. Frontend Setup
```bash
cd frontend
npm install
npm run dev
```
The frontend will typically be available at `http://localhost:5173`.

## ‚ö†Ô∏è Known Limitations

- **No Mobile Responsiveness**: The current decorator shells are optimized for desktop dashboard layouts.
- **Basic Layout Detection**: The Designer agent uses a set of fixed layout patterns (Centered vs. Sidebar-based) rather than fluid CSS Grid/Flexbox generation.

## üõ†Ô∏è What I'd Improve With More Time

- **Diff Viewer**: Implement a visual diffing tool to show exactly what changed between iterations.
- **Smarter Planner Reasoning**: Enhance the planner's ability to handle complex nested data structures and multi-page flows.
- **Streaming AI Responses**: Use Server-Sent Events (SSE) to stream generation progress for a more responsive user experience.
